{"version":3,"file":"index.esm.js","sources":["../../src/BasicPluginOptionsManager.ts","../../src/PKGJsonManager.ts","../../src/constant.ts","../../src/utils.ts","../../src/ContainerManager.ts","../../src/RemoteManager.ts","../../src/SharedManager.ts"],"sourcesContent":[null,null,null,null,null,null,null],"names":["BasicPluginOptionsManager","enable","Boolean","_options","options","root","_root","init","extraArgs","setOptions","constructor","process","cwd","PKGJsonManager","setPKGJson","pkg","_pkg","readPKGJson","JSON","parse","fs","readFileSync","path","resolve","_err","finder","sync","err","logger","error","getExposeGarfishModuleType","type","MFModuleType","NPM","APP","LOCAL_BUILD_VERSION","UNKNOWN_MODULE_NAME","processFn","normalizeSimple","normalizeOptions","fn","object","obj","key","value","Object","entries","array","items","item","Error","Array","isArray","parseOptions","push","getBuildVersion","env","getBuildName","normalizeExposeModuleName","exposeKey","relativePath","relative","ContainerManager","name","exposes","length","keys","globalEntryName","library","containerPluginExposesOptions","parsedOptions","import","generateExposeFilename","reduce","sum","exposeObj","fileExposeKeyMap","_parseOptions","exposeObject","forEach","exposeFile","exposeFileWithoutExt","replace","extname","Set","add","exposeFileNameImportMap","_exposeKey","importPath","exposeFiles","manifestModuleInfos","_manifestModuleInfos","file","webpackEntry","values","cur","entry","slice","toLowerCase","_parsedOptions","undefined","validate","getEntry","remoteObj","external","RemoteManager","remotes","statsRemoteWithEmptyUsedIn","normalizedOptions","normalizedOption","curObj","alias","moduleName","federationContainerName","consumingFederationContainerName","usedIn","version","dtsRemotes","remoteAlias","remoteInfo","composeKeyWithSeparator","parseEntry","e","shareScope","SharedManager","sharedPluginOptions","shared","normalizedShared","singleton","requiredVersion","eager","sharedImport","findPkg","shareConfig","pkgPath","depName","isAbsolute","startsWith","packageName","require","paths","pkgJsonPath","transformSharedConfig","sharedConfig","defaultSharedConfig","sharedOptions","config","isRequiredVersion","sharedName","pkgInfo"],"mappings":"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"}