{"version":3,"file":"index.cjs.cjs","sources":["../../src/constant.ts","../../src/env.ts","../../src/utils.ts","../../src/generateSnapshotFromManifest.ts","../../src/logger.ts","../../src/dom.ts","../../src/node.ts","../../src/normalizeOptions.ts","../../src/createModuleFederationConfig.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null],"names":["FederationModuleManifest","MANIFEST_EXT","BROWSER_LOG_KEY","NameTransformSymbol","AT","HYPHEN","SLASH","NameTransformMap","EncodedNameTransformMap","SEPARATOR","ManifestFileName","StatsFileName","MFModuleType","NPM","APP","MODULE_DEVTOOL_IDENTIFIER","ENCODE_NAME_PREFIX","TEMP_DIR","MFPrefetchCommon","identifier","globalKey","library","exportsKey","fileName","isBrowserEnv","window","document","isReactNativeEnv","navigator","product","isBrowserDebug","localStorage","Boolean","getItem","error","isDebugMode","process","env","FEDERATION_DEBUG","getProcessEnv","LOG_CATEGORY","parseEntry","str","devVerOrUrl","separator","strSplit","split","devVersionOrUrl","defaultVersion","isEntry","s","startsWith","includes","length","name","versionOrEntryArr","slice","join","versionOrEntry","entry","version","composeKeyWithSeparator","args","reduce","sum","cur","encodeName","prefix","withExt","ext","replace","RegExp","err","decodeName","decodedName","generateExposeFilename","exposeName","expose","generateShareFilename","pkgName","getResourceUrl","module","sourceUrl","publicPath","getPublicPath","Function","ssrPublicPath","console","warn","assert","condition","msg","Error","safeToString","info","JSON","stringify","e","VERSION_PATTERN_REGEXP","isRequiredVersion","test","simpleJoinRemoteEntry","rPath","rName","transformPath","strWithoutSlash","endsWith","transformedPath","inferAutoPublicPath","url","generateSnapshotFromManifest","manifest","options","remotes","overrides","remoteSnapshot","metaData","overridesKeys","Object","keys","remotesInfo","res","next","matchedVersion","federationContainerName","forEach","key","remoteEntry","path","remoteEntryPath","remoteEntryName","type","remoteEntryType","types","remoteTypes","buildInfo","buildVersion","globalName","ssrRemoteEntry","exposes","basicRemoteSnapshot","remoteTypesZip","zip","remoteTypesAPI","api","shared","map","item","assets","sharedName","modules","moduleName","modulePath","prefetchInterface","_extends","prefetchEntry","prefetchEntryType","fullSSRRemoteEntry","ssrRemoteEntryType","isManifestProvider","moduleInfo","PREFIX","Logger","setPrefix","log","success","ready","debug","constructor","createLogger","logger","safeWrapper","callback","disableWarn","isStaticResourcesEqual","url1","url2","REG_EXP","relativeUrl1","relativeUrl2","createScript","script","needAttach","timeout","timeoutId","scripts","getElementsByTagName","i","scriptSrc","getAttribute","attrs","createElement","createScriptRes","undefined","createScriptHook","HTMLScriptElement","src","setAttribute","onScriptComplete","prev","event","clearTimeout","onScriptCompleteCallback","onErrorCallback","cb","onerror","onload","needDeleteScript","parentNode","removeChild","result","Promise","bind","setTimeout","createLink","link","links","l","linkHref","linkRel","createLinkRes","createLinkHook","HTMLLinkElement","onLinkComplete","onLinkCompleteCallback","needDeleteLink","loadScript","resolve","reject","fetchpriority","head","appendChild","sdkImportCache","Map","importNodeModule","has","get","importModule","promise","then","catch","delete","set","loadNodeFetch","fetchModule","default","lazyLoaderHookFetch","input","init","loaderHook","hook","lifecycle","fetch","emit","Response","fetchFunction","createScriptNode","ENV_TARGET","hookResult","urlObj","URL","getFetch","handleScriptFetch","f","vm","href","data","text","all","scriptContext","exports","urlDirname","pathname","filename","basename","Script","importModuleDynamically","constants","USE_MAIN_CONTEXT_DEFAULT_LOADER","runInThisContext","eval","exportedInterface","container","loadModule","evaluate","namespace","loadScriptNode","remoteEntryKey","entryExports","globalThis","esmModuleCache","response","code","SourceTextModule","specifier","resolvedUrl","normalizeOptions","enableDefault","defaultOptions","createModuleFederationConfig"],"mappings":"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"}